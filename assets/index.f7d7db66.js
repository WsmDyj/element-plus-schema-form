var e=Object.defineProperty,l=Object.prototype.hasOwnProperty,o=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,n=(l,o,a)=>o in l?e(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a,t=(e,t)=>{for(var s in t||(t={}))l.call(t,s)&&n(e,s,t[s]);if(o)for(var s of o(t))a.call(t,s)&&n(e,s,t[s]);return e},s=(e,l,o)=>new Promise(((a,n)=>{var t=e=>{try{i(o.next(e))}catch(l){n(l)}},s=e=>{try{i(o.throw(e))}catch(l){n(l)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(t,s);i((o=o.apply(e,l)).next())}));import{_ as i}from"./index.fa9dff7e.js";import{a as c,d,_ as r}from"./schemaForm.92f407b2.js";import{a_ as p,b8 as u,r as m,o as f,c as b,aW as h,aE as P,aO as v,ba as g,P as C,ay as y,aI as k,aA as S,bb as F,aC as w,aD as V,aG as x,aP as _}from"./vendor.74e0f699.js";import{u as I}from"./useForm.328f231c.js";const B={data:()=>({fileList:[]}),methods:{handleChange(e,l){this.fileList=l}}},R=v("点击上传");B.render=function(e,l,o,a,n,t){const s=m("el-button"),i=m("el-upload");return f(),b(i,{class:"upload-demo",action:"https://jsonplaceholder.typicode.com/posts/","on-change":t.handleChange,"file-list":n.fileList},{default:h((()=>[P(s,{size:"small",type:"info"},{default:h((()=>[R])),_:1})])),_:1},8,["on-change","file-list"])};var T,D;c(T="demo",B),D=()=>{d(T)},p()&&u(D);const j=[{field:"field1",component:"Input",label:"字段1",helpMessage:"这是字段1",helpComponentProps:{placement:"bottom",icon:"el-icon-question"},colProps:{span:8},componentProps:{placeholder:"自定义placeholder",maxlength:4,clearable:!0,onChange:e=>{}},dynamicDisabled:({values:e})=>!!e.field7,dynamicRules:({values:e})=>e.field8?[{required:!0,message:"字段1必填"}]:[]},{field:"field8",component:"Switch",label:"字段1是否必填",colProps:{span:8}},{field:"field7",component:"Switch",label:"是否禁用字段1",colProps:{span:8}},{field:"field2",component:"Input",label:"默认值",colProps:{span:8},defaultValue:"defalut value",componentProps:{clearable:!0}},{field:"field18",component:"Input",label:"自定义校验规则",colProps:{span:8},show:({values:e})=>!!e.field25,componentProps:{size:"mini",suffixIcon:"el-icon-edit-outline"},rules:[{required:!0,validator:(e,l)=>s(this,null,(function*(){return l?"1"===l?Promise.reject("值不能为1"):Promise.resolve():Promise.reject("值不能为空")})),trigger:"change"}]},{field:"field25",component:"Switch",label:"显示自定义校验规则",defaultValue:!0,colProps:{span:8}},{field:"field16",component:"Input",label:"输入框前置内容",colProps:{span:8},renderComponentContent:()=>({prepend:()=>"Http://"})},{field:"field17",component:"Input",label:"输入框后置内容",colProps:{span:8},renderComponentContent:()=>({append:()=>".com"})},{field:"field3",component:"Input",label:"自定义渲染组的 slot",colProps:{span:8},renderComponentContent:()=>({suffix:()=>"$"})},{field:"field6",label:"自定义Slot-远程搜索",slot:"f3",colProps:{span:12}},{field:"field11",component:"Input",label:"render方式",colProps:{span:12},render:({model:e,field:l})=>g(C,{placeholder:"请输入",modelValue:e[l],onInput:o=>{e[l]=o}})},{field:"field4",component:"Select",label:"单选",colProps:{span:8},componentProps:{clearable:!0,filterable:!0,options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",disabled:!0,label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],onChange:()=>{}}},{field:"field30",component:"Select",label:"远程下拉",componentProps:{filterable:!0,clearable:!0,immediate:!1,params:{},optionKey:{label:"marketName",value:"marketCode"}},colProps:{span:8}},{field:"field29",component:"Cascader",label:"级联",colProps:{span:8},componentProps:{clearable:!0,options:[{value:1,label:"东南",children:[{value:2,label:"上海",children:[{value:3,label:"普陀"},{value:4,label:"黄埔"},{value:5,label:"徐汇"}]},{value:7,label:"江苏",children:[{value:8,label:"南京"},{value:9,label:"苏州"},{value:10,label:"无锡"}]},{value:12,label:"浙江",children:[{value:13,label:"杭州"},{value:14,label:"宁波"},{value:15,label:"嘉兴"}]}]},{value:17,label:"西北",children:[{value:18,label:"陕西",children:[{value:19,label:"西安"},{value:20,label:"延安"}]},{value:21,label:"新疆维吾尔族自治区",children:[{value:22,label:"乌鲁木齐"},{value:23,label:"克拉玛依"}]}]}]}},{field:"field19",component:"DatePicker",valueFormate:"YYYY/MM/DD",label:"日期",colProps:{span:8},componentProps:{type:"date",shortcuts:[{text:"Today",value:new Date},{text:"Yesterday",value:(()=>{const e=new Date;return e.setTime(e.getTime()-864e5),e})()},{text:"A week ago",value:(()=>{const e=new Date;return e.setTime(e.getTime()-6048e5),e})()}]}},{field:"field20",component:"RangePicker",label:"日期范围",valueFormate:"YYYY-MM-DD",colProps:{span:16},componentProps:{type:"daterange",rangeSeparator:"至",startPlaceholder:"开始日期",endPlaceholder:"结束日期"},fieldMapToTime:["startTime","endTime"]},{field:"field21",component:"TimeSelect",label:"TimeSelect 时间选择",colProps:{span:8},componentProps:{start:"08:30",step:"00:15",end:"18:30"}},{field:"field22",component:"TimePicker",label:"TimePicker 时间选择",colProps:{span:16},componentProps:{isRange:!0,rangeSeparator:"至",startPlaceholder:"开始日期",endPlaceholder:"结束日期"}},{field:"f1",component:"Input",label:"F1",colProps:{span:12},componentProps:({formModel:e})=>({placeholder:"同步f2的值为f1",onInput:l=>{e.f2=l}})},{field:"f2",component:"Input",label:"F2-自定义labelWidth",colProps:{span:12},labelWidth:"300px",componentProps:{type:"textarea",disabled:!0}},{field:"field5",component:"RadioGroup",label:"单选框组",colProps:{span:8},defaultValue:"选项1",componentProps:{options:["选项1","选项2"]}},{field:"field26",component:"CheckboxGroup",label:"多选框组",colProps:{span:8},componentProps:{options:[{label:"选项1",value:"3"},{label:"选项2",value:"4"}]}},{field:"field27",component:"InputNumber",label:"计数器",colProps:{span:8}},{field:"field28",component:"Slider",label:"滑块",colProps:{span:8}},{field:"field24",component:"Rate",label:"评分",colProps:{span:8}},{field:"demo",component:"demo",label:"自定义注册组件",colProps:{span:8}},{field:"field0a",component:"Input",label:"字段0",colProps:{span:12},required:!0},{field:"0",component:"Input",labelWidth:"20px",label:" ",colProps:{span:4},slot:"add"}],O=y({components:{SchemaForm:r},setup(){const[e,{setProps:l,appendSchemaByField:o,removeSchemaByFiled:a,getFieldsValue:n,setFieldsValue:i,resetFields:c,validate:d,validateFields:r,clearValidate:p}]=I({schemas:j}),u=k({showActionButtonGroup:!0,showResetButton:!0,showSubmitButton:!0}),m=S(null),f=S(1);const b=F(u);return t(t({schemas:j,formElRef:m,handleSubmit:e=>{},querySearchAsync:function(e,l){l([{value:"南拳妈妈龙虾盖浇饭",address:"普陀区金沙江路1699号鑫乐惠美食广场A13"}])},setProps:l,deleteField:function(){a("field1")},appendField:function(){o({field:"field10",label:"字段2",component:"Input",colProps:{span:8}},"field1")},resetValidate:function(){return s(this,null,(function*(){p()}))}},b),{onDisplay:function(){i({field1:"我是回显值"})},onChange:function(){l(t({},b))},validateForm:function(){return s(this,null,(function*(){try{yield d()}catch(e){}}))},add:function(){o({field:`field${f.value}a`,component:"Input",label:"字段"+f.value,colProps:{span:12},required:!0},""),o({field:`${f.value}`,component:"Input",label:" ",labelWidth:"20px",colProps:{span:4},slot:"add"},""),f.value++},del:function(e){a([`field${e}a`,`field${e}b`,`${e}`]),f.value--},onGetFormModal:function(){return s(this,null,(function*(){const e=yield n();alert(JSON.stringify(e))}))},register:e,onResetFields:function(){return s(this,null,(function*(){yield c()}))},onValidateFields:function(){return s(this,null,(function*(){yield r(["field18"])}))}})}}),A=x();w("data-v-c8f0e6ce");const M={class:"schema-aside"},Y={class:"schema-aside-opt"},G=v("修改提交按钮"),q=v("修改重置按钮"),$=v("修改按钮位置"),U=v("获取表单值"),W=v("回显 字段1"),N=v("重置表单"),E=v("手动校验表单"),H=v("清空校验信息"),L=v("删除 字段1"),z=v(" 往字段1后面插入字段2 "),J=v("新增"),K=v("删除");V();const Q=A(((e,l,o,a,n,t)=>{const s=m("el-switch"),i=m("el-button"),c=m("el-autocomplete"),d=m("SchemaForm",!0),r=m("el-main"),p=m("el-container");return f(),b(p,{class:"schema-container"},{default:A((()=>[P("div",M,[P("div",Y,[P(s,{class:"mb-20","active-text":"显示操作按钮",modelValue:e.showActionButtonGroup,"onUpdate:modelValue":l[1]||(l[1]=l=>e.showActionButtonGroup=l),onChange:e.onChange},null,8,["modelValue","onChange"]),P(s,{class:"mb-20","active-text":"显示重置按钮",modelValue:e.showResetButton,"onUpdate:modelValue":l[2]||(l[2]=l=>e.showResetButton=l),onChange:e.onChange},null,8,["modelValue","onChange"]),P(s,{class:"mb-20","active-text":"显示提交按钮",modelValue:e.showSubmitButton,"onUpdate:modelValue":l[3]||(l[3]=l=>e.showSubmitButton=l),onChange:e.onChange},null,8,["modelValue","onChange"]),P(i,{class:"mb-20",onClick:l[4]||(l[4]=l=>e.setProps({submitButtonOptions:{loading:!0,text:"加载中"}}))},{default:A((()=>[G])),_:1}),P(i,{class:"mb-20",onClick:l[5]||(l[5]=l=>e.setProps({resetButtonOptions:{text:"取消"}}))},{default:A((()=>[q])),_:1}),P(i,{class:"mb-20",onClick:l[6]||(l[6]=l=>e.setProps({textAlign:"right"}))},{default:A((()=>[$])),_:1}),P(i,{class:"mb-20",onClick:e.onGetFormModal},{default:A((()=>[U])),_:1},8,["onClick"]),P(i,{class:"mb-20",onClick:e.onDisplay},{default:A((()=>[W])),_:1},8,["onClick"]),P(i,{class:"mb-20",onClick:e.onResetFields},{default:A((()=>[N])),_:1},8,["onClick"]),P(i,{class:"mb-20",onClick:e.validateForm},{default:A((()=>[E])),_:1},8,["onClick"]),P(i,{class:"mb-20",onClick:e.resetValidate},{default:A((()=>[H])),_:1},8,["onClick"]),P(i,{class:"mb-20",onClick:e.deleteField},{default:A((()=>[L])),_:1},8,["onClick"]),P(i,{class:"mb-20",onClick:e.appendField},{default:A((()=>[z])),_:1},8,["onClick"])])]),P(r,{class:"schema-main"},{default:A((()=>[P(d,{"label-position":"right","label-width":"150px",onRegister:e.register,onSubmit:e.handleSubmit},{f3:A((({model:l,field:o})=>[P(c,{style:{width:"100%"},"fetch-suggestions":e.querySearchAsync,modelValue:l[o],"onUpdate:modelValue":e=>l[o]=e,placeholder:"el-autocomplete"},null,8,["fetch-suggestions","modelValue","onUpdate:modelValue"])])),add:A((({field:l})=>[0===Number(l)?(f(),b(i,{key:0,onClick:e.add},{default:A((()=>[J])),_:1},8,["onClick"])):_("",!0),l>0?(f(),b(i,{key:1,onClick:o=>e.del(l)},{default:A((()=>[K])),_:2},1032,["onClick"])):_("",!0)])),_:1},8,["onRegister","onSubmit"])])),_:1})])),_:1})}));O.render=Q,O.__scopeId="data-v-c8f0e6ce";const X=y({components:{SchemaForm:O,pageHeader:i},setup:()=>({commponent:S("SchemaForm")})});X.render=function(e,l,o,a,n,t){const s=m("pageHeader"),i=m("SchemaForm");return f(),b("div",null,[P(s),P(i)])};export default X;
